<div>
    <div v-if="context.userId in data.user2upc">
        <div>
            <el-button size="small"
                       icon="arrow-left"
                       style="margin-left: 10px;"
                       @click="command('prev_object')">
                Prev Object
            </el-button>
            <el-button size="small"
                       style="margin-left: 10px;"
                       @click="command('next_object')">
                Next Object<i class="el-icon-arrow-right el-icon-right"></i>
            </el-button>
            <el-button size="small"
                       style="margin-left: 10px; margin-right: 10px;"
                       type="primary"
                       @click="command('assign_tag')"
                       :disabled="context.figureId === null">
                Assign tag
            </el-button>
        </div>

        <hr class="mb15" style="height: 1px; color: #e0e0e0; background-color: #e0e0e0; border: none;"/>

        <div style="margin: 10px;">
            <div v-for="(item, index) in data.user2upc[context.userId]">
                <div style="float: left; width: 47%; border: 3px solid transparent;"
                 :style="{ borderColor: data.user2selectedUpc[context.userId] === index ? '#20A0FF' : 'transparent' }">
                    <h2 style="margin: 10px; text-align: center;">UPC Code: {{item.upc}}</h2>
                    <img style="display: block; width: 100%; object-fit: contain; background: white;"
                         :src="item.image_url"
                         @click="data.user2selectedUpc[context.userId] = index"
                    />
                </div>
            </div>
        </div>

        <el-dialog
          title="Image Done"
          :visible.sync="state.dialogVisible"
          size="tiny">
          <span>All objects are viewed. Move to next image</span>
          <span slot="footer" class="dialog-footer">
            <el-button type="primary" @click="state.dialogVisible = false">Confirm</el-button>
          </span>
        </el-dialog>

    </div>
    <div v-if="!(context.userId in data.user2upc)">
        <div>User with id = {{context.userId}} is not allowed for this app</div>
    </div>
</div>
